<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Відділ народної творчості Черкаського ОЦНТ</title>
    <link rel="icon" type="image/png" href="фото_для_боту.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="contest.css">
    <style>
        :root { --primary: #1e272e; --accent: #e67e22; --bg: #f5f6fa; --nav: #2f3640; }
        body { font-family: 'Segoe UI', sans-serif; margin: 0; background: var(--bg); color: var(--primary); }
        header { background: white; padding: 10px 5%; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1); position: sticky; top: 0; z-index: 1000; }
        .logo-box { display: flex; align-items: center; gap: 15px; }
        .logo-img { height: 70px; border-radius: 8px; }
        .logo-text h1 { font-size: 1.2rem; margin: 0; }
        .header-right { display: flex; align-items: center; gap: 20px; }
        .auth-btn { cursor: pointer; padding: 10px 25px; border: 2px solid var(--nav); border-radius: 25px; font-weight: bold; transition: 0.3s; }
        .auth-btn:hover { background: var(--nav); color: white; }
        nav { background: var(--nav); display: flex; justify-content: center; }
        nav a, .dropbtn { color: white; padding: 15px 25px; text-decoration: none; font-weight: 600; cursor: pointer; background: none; border: none; font-size: 16px; }
        .card { max-width: 700px; margin: 30px auto; background: white; padding: 30px; border-radius: 20px; text-align: center; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
        .btn-main { background: var(--accent); color: white; padding: 15px 40px; border-radius: 30px; font-weight: bold; border: none; cursor: pointer; font-size: 1.1rem; }
        
        /* Стиль для банера Червона Рута */
        .ruta-section { background: #000; color: white; padding: 20px; border-radius: 15px; margin: 20px auto; max-width: 800px; text-align: center; }
        .ruta-btn { background: #ff4500; color: white; padding: 12px 25px; border-radius: 5px; text-decoration: none; display: inline-block; margin-top: 10px; font-weight: bold; border: none; cursor: pointer; }
    </style>
</head>
<body>

<header>
    <div class="logo-box">
        <img src="фото_для_боту.png" class="logo-img">
        <div class="logo-text"><h1>Відділ народної творчості</h1><p>Черкаського ОЦНТ</p></div>
    </div>
    <div class="header-right">
        <div class="auth-btn" id="loginBtn" onclick="handleAuth()">Увійти</div>
    </div>
</header>

<nav>
    <a href="#about">Про нас</a>
    <a href="javascript:void(0)" onclick="goToForm()" style="color: #f1c40f;">ПОДАТИ ЗАЯВКУ</a>
</nav>

<div class="card" id="about">
    <h2>Загальна анкета</h2>
    <p>Авторизуйтесь, щоб отримати доступ до подачі заявки.</p>
    <button class="btn-main" onclick="goToForm()">ВІДКРИТИ АНКЕТУ</button>
</div>

<div class="ruta-section">
    <img src="ruta_banner.png" style="width:100%; border-radius:10px;" alt="Червона Рута">
    <h3>ЧЕРВОНА РУТА - 2026</h3>
    <p>Відбірковий конкурс у Черкасах</p>
    <button class="ruta-btn" onclick="goToForm()">ПОДАТИ ЗАЯВКУ НА КОНКУРС</button>
</div>

<script src="collectives.js"></script>
<script>
    const FORM_URL = "https://n8n.narodocnt.online/webhook/2e38b09c-9ea5-4123-bdf0-b26dfdf7432c/n8n-form";
    const AUTH_URL = "https://accounts.google.com/o/oauth2/v2/auth?client_id=734541752522-bqp7ljgjq27k8psn3pv6g3c3rcp16fhi.apps.googleusercontent.com&redirect_uri=https://n8n.narodocnt.online/webhook/google-signup&response_type=code&scope=openid%20email%20profile&prompt=consent";

    function handleAuth() {
        window.location.href = AUTH_URL;
    }

    function goToForm() {
        const user = localStorage.getItem('user');
        if (!user) {
            alert("Потрібна авторизація через Google");
            handleAuth();
        } else {
            window.location.href = FORM_URL;
        }
    }

    document.addEventListener('DOMContentLoaded', function() {
        // Перевірка імені після логіну
        const urlParams = new URLSearchParams(window.location.search);
        let name = urlParams.get('name');
        if (name) { localStorage.setItem('user', decodeURIComponent(name)); }

        const user = localStorage.getItem('user');
        if (user) {
            const btn = document.getElementById('loginBtn');
            if(btn) { 
                btn.innerText = user; 
                btn.style.background = "#27ae60"; 
                btn.style.color = "white";
            }
        }
    });
</script>
</body>
</html>
