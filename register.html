<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Заявка на участь у фестивалі «ЧЕРВОНА РУТА»</title>
    <style>
        body { font-family: 'Times New Roman', serif; background-color: #f0f0f0; padding: 20px; line-height: 1.4; color: #000; }
        .form-container { max-width: 800px; margin: auto; background: white; padding: 40px; border: 1px solid #ccc; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        .header-top { display: flex; justify-content: space-between; margin-bottom: 30px; }
        .header-left { width: 50%; }
        .header-right { width: 45%; border-bottom: 1px solid #000; font-style: italic; }
        .title { text-align: center; font-weight: bold; margin: 20px 0; font-size: 18px; }
        .genre-box { border: 1px solid #000; padding: 10px; margin: 10px 0; }
        .field-group { margin-bottom: 15px; border-bottom: 1px dashed #ccc; padding-bottom: 5px; }
        label { font-weight: bold; display: block; margin-bottom: 5px; }
        input[type="text"], input[type="email"], input[type="tel"], textarea { 
            width: 100%; border: none; outline: none; background: transparent; font-family: inherit; font-size: 16px; 
        }
        .instruction { font-size: 12px; color: #555; font-style: italic; }
        .mandatory { color: red; text-align: center; font-weight: bold; margin: 20px 0; border: 2px solid red; padding: 10px; }
        .submit-btn { 
            display: block; width: 100%; padding: 15px; background: #ff4500; color: white; 
            border: none; font-weight: bold; font-size: 18px; cursor: pointer; margin-top: 30px; 
        }
        .submit-btn:hover { background: #cc3700; }
    </style>
</head>
<body>

<div class="form-container">
    <div class="header-top">
        <div class="header-left">
            Дирекції Всеукраїнського<br>
            фестивалю сучасної пісні<br>
            та популярної музики<br>
            «ЧЕРВОНА РУТА»
        </div>
        <div class="header-right">
            <input type="text" placeholder="[ прізвище та ініціали соліста / назву гурту ]">
        </div>
    </div>

    <div style="text-align: center; font-style: italic;">Червона рута лунає – опір триває!</div>
    <div class="title">З А Я В К А<br>на участь в обласному відбірковому конкурсі – 2026 фестивалю «ЧЕРВОНА РУТА–2027»</div>

    <div class="mandatory">! ! УСІ ПОЛЯ АНКЕТИ Є ОБОВ’ЯЗКОВИМИ ДЛЯ ЗАПОВНЕННЯ ! ! !</div>

    <form id="rutaOfficialForm">
        <div class="field-group">
            <label>01. Жанр музики</label>
            <div class="instruction">[ фольклор / поп-музика / танцювальна / акустична / рок-музика / інша музика ]</div>
            <input type="text" name="p1" required>
        </div>

        <div class="field-group">
            <label>02. Область, яку представляєте</label>
            <div class="instruction">[ вказати область у якій плануєте взяти участь ]</div>
            <input type="text" name="p2" required>
        </div>

        <div class="field-group">
            <label>03. Учасник відбіркового конкурсу</label>
            <div class="instruction">[ cоліст вказує: ПІБ / гурт – назву гурту ]</div>
            <input type="text" name="p3" required>
        </div>

        <div class="field-group">
            <label>04. Володіння інструментами</label>
            <div class="instruction">[ учасники гурту вказують прізвище – інструменти, вокал / соліст – інструменти ]</div>
            <input type="text" name="p4" required>
        </div>

        <div class="field-group">
            <label>05. Контакти соліста / учасників гурту</label>
            <div class="instruction">[ адреса проживання / номер мобільного телефона / електронна пошта ]</div>
            <textarea name="p5" rows="2" required></textarea>
        </div>

        <div class="field-group">
            <label>06. Контакти керівника соліста / гурту</label>
            <div class="instruction">[ прізвище, ім’я, по батькові / мобільний телефон / електронна адреса ]</div>
            <input type="text" name="p6" required>
        </div>

        <div class="field-group">
            <label>07. Дата народження виконавця(ів)</label>
            <div class="instruction">[ вказують прізвище ім’я та дату народження кожного учасника ]</div>
            <input type="text" name="p7" required>
        </div>

        <div class="field-group">
            <label>08. Фах, місце роботи / навчання</label>
            <div class="instruction">[ вказують прізвище ім’я та дані про зайнятість кожного учасника ]</div>
            <input type="text" name="p8" required>
        </div>

        <div class="field-group">
            <label>09. Національність / мова спілкування</label>
            <div class="instruction">[ національність виконавця(ів) ] [ мова спілкування в побуті ]</div>
            <input type="text" name="p9" required>
        </div>

        <div class="field-group">
            <label>10. Конкурсний репертуар (1 пісня, 2 пісня, 3 пісня)</label>
            <div class="instruction">[ назва пісні / хронометраж / автор музики / автор слів ]</div>
            <textarea name="p10" rows="3" required></textarea>
        </div>

        <div class="field-group">
            <label>11. Студія звукозапису / місце репетицій</label>
            <div class="instruction">[ назва студії / поштова адреса / контактний телефон ]</div>
            <input type="text" name="p11" required>
        </div>

        <div class="field-group">
            <label>12. Участь у фестивалях / конкурсах</label>
            <div class="instruction">[ вказати три фестивалі / конкурси та призові місця ]</div>
            <input type="text" name="p12" required>
        </div>

        <div class="field-group">
            <label>13. Ваш репертуар українською мовою</label>
            <div class="instruction">[ кількість пісень / час звучання / авторських пісень ]</div>
            <input type="text" name="p13" required>
        </div>

        <div class="field-group">
            <label>14. Улюблені музиканти та гурти</label>
            <div class="instruction">[ українські виконавці (три) / закордонні виконавці (три) ]</div>
            <input type="text" name="p14" required>
        </div>

        <div class="field-group">
            <label>15. Ваші очікування від фестивалю</label>
            <input type="text" name="p15" required>
        </div>

        <div class="field-group">
            <label>16. Звідки Ви дізналися про конкурс?</label>
            <div class="instruction">[ реклама, преса, ТБ, радіо, інтернет, знайомі ]</div>
            <input type="text" name="p16" required>
        </div>

        <div style="margin-top: 20px;">
            З Положенням про фестиваль та його Творчою концепцією ознайомлений(а). Зобов’язуюся(ємося) дотримуватися Положення.
        </div>

        <button type="submit" class="submit-btn" id="submitBtn">ВІДПРАВИТИ ЗАЯВКУ</button>
    </form>
</div>

<script>
    document.getElementById('rutaOfficialForm').onsubmit = async (e) => {
        e.preventDefault();
        const btn = document.getElementById('submitBtn');
        btn.disabled = true;
        btn.innerText = "ВІДПРАВКА...";

        const formData = new FormData(e.target);
        const data = Object.fromEntries(formData.entries());
        data.user_id = localStorage.getItem('user') || 'Анонім';

        try {
            const response = await fetch('https://n8n.narodocnt.online/webhook/ruta-zayavka', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(data)
            });

            if (response.ok) {
                alert('Вашу заявку успішно надіслано до Дирекції фестивалю!');
                window.location.href = 'index.html';
            } else {
                throw new Error();
            }
        } catch (err) {
            alert('Помилка відправки. Перевірте з’єднання.');
            btn.disabled = false;
            btn.innerText = "ВІДПРАВИТИ ЗАЯВКУ";
        }
    };
</script>

</body>
</html>
